package tw.north27.coachingapp.chat

import com.jakewharton.rxrelay3.PublishRelay
import io.reactivex.rxjava3.core.Observable
import tw.north27.coachingapp.media.RecorderSetting

interface IMediaRepository {

    fun getMediaAudio(setting: MediaSetting): Observable<List<MediaAlbum>>

    fun getMediaImage(setting: MediaSetting): Observable<List<MediaAlbum>>

    fun getMediaVideo(setting: MediaSetting): Observable<List<MediaAlbum>>

    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    suspend fun audioDecodeToPcm(filePath: String, pcmPath: String)

    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    val recordingTime: PublishRelay<Long>

    fun prepareRecording(setting: RecorderSetting)

    fun startRecording()

    fun stopRecording()

    fun releaseRecording()

}